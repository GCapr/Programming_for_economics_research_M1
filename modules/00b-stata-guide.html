<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Stata Interface Guide | ProTools ER1</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Crimson+Pro:ital,wght@0,400;0,600;0,700;1,400&family=Fira+Code:wght@400;500&family=Source+Sans+Pro:ital,wght@0,400;0,600;0,700;1,400&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="../css/style.css">
  <style>
    .protected-content {
      -webkit-user-select: none;
      -moz-user-select: none;
      -ms-user-select: none;
      user-select: none;
    }
    /* Interactive IDE diagram styles */
    .ide-diagram {
      position: relative;
      margin: 2rem 0;
      border-radius: 8px;
      overflow: visible;
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);
    }
    .ide-diagram-container {
      position: relative;
      background: #f0f0f0;
      border-radius: 8px 8px 0 0;
    }
    .ide-region {
      position: absolute;
      cursor: pointer;
      border: 2px solid transparent;
      border-radius: 4px;
      transition: all 0.2s ease;
    }
    .ide-region:hover {
      border-color: var(--color-accent);
      background: rgba(237, 137, 54, 0.15);
    }
    .ide-region.active {
      border-color: var(--color-accent);
      background: rgba(237, 137, 54, 0.2);
    }
    .ide-region-label {
      position: absolute;
      top: 4px;
      left: 4px;
      background: var(--color-accent);
      color: white;
      width: 24px;
      height: 24px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 0.75rem;
      font-weight: 700;
      z-index: 10;
    }
    .ide-info-panel {
      background: var(--color-bg-alt);
      padding: 1rem 1.5rem;
      border-radius: 0 0 8px 8px;
      min-height: 100px;
      transition: all 0.2s ease;
    }
    .ide-info-panel h4 {
      margin: 0 0 0.5rem 0;
      color: var(--color-primary);
    }
    .ide-info-panel p {
      margin: 0;
      color: var(--color-text);
    }
    .ide-info-default {
      color: var(--color-text-light);
      font-style: italic;
    }
  </style>
</head>
<body>
  <!-- Password Protection Overlay -->
  <div id="password-overlay" class="password-overlay">
    <div class="password-modal">
      <h2>ProTools ER1</h2>
      <p>Programming Tools for Empirical Research</p>
      <p style="font-size: 0.9rem; color: #666; margin-bottom: 1.5rem;">Please enter the course password to access the materials.</p>
      <input type="password" id="password-input" placeholder="Enter password" autocomplete="off">
      <button id="password-submit">Access Course</button>
      <p id="password-error" style="color: #e53e3e; font-size: 0.85rem; margin-top: 1rem; display: none;">Incorrect password. Please try again.</p>
    </div>
  </div>

  <div class="page-wrapper protected-content">
    <aside class="sidebar">
      <a href="../index.html" class="sidebar-logo">ProTools ER1</a>
      <span class="sidebar-subtitle">Programming Tools for Empirical Research</span>
      <nav>
        <ul>
          <li><a href="../index.html">Welcome</a></li>
          <li><a href="00-languages-platforms.html" class="active"><span class="module-number">0</span> Languages & Platforms</a></li>
          <li><a href="01-getting-started.html"><span class="module-number">1</span> Getting Started</a></li>
          <li><a href="02-data-harnessing.html"><span class="module-number">2</span> Data Harnessing</a></li>
          <li><a href="03-data-cleaning.html"><span class="module-number">3</span> Data Cleaning</a></li>
          <li><a href="04-data-analysis.html"><span class="module-number">4</span> Data Analysis</a></li>
          <li><a href="05-causal-inference.html"><span class="module-number">5</span> Causal Inference</a></li>
          <li><a href="06-estimation.html"><span class="module-number">6</span> Estimation Methods</a></li>
          <li><a href="07-replicability.html"><span class="module-number">7</span> Replicability</a></li>
          <li><a href="08-github.html"><span class="module-number">8</span> Git & GitHub</a></li>
          <li><a href="09-nlp-history.html"><span class="module-number">9</span> History of NLP</a></li>
          <li><a href="10-machine-learning.html"><span class="module-number">10</span> Machine Learning</a></li>
          <li><a href="11-llms.html"><span class="module-number">11</span> Large Language Models</a></li>
          <li><a href="../resources.html">Resources</a></li>
        </ul>
      </nav>
    </aside>

    <main class="main-content">
      <div class="content">
        <p style="margin-bottom: 0;"><a href="00-languages-platforms.html">&larr; Back to Module 0: Languages & Platforms</a></p>

        <div class="module-header" style="margin-top: 1rem;">
          <h1>Stata Interface Guide</h1>
          <div class="module-meta">
            <span>~30 min</span>
            <span>For Stata users</span>
          </div>
        </div>

        <p class="lead">
          <strong>Stata</strong> is the most widely used statistical software in academic economics. It's particularly strong for econometrics, panel data analysis, and survey data. If you're going into applied economics research, you will use Stata.
        </p>

        <h2>What is Stata?</h2>

        <p>
          Unlike R and Python, Stata is both a programming language <em>and</em> a complete software package. When you buy Stata, you get everything: the language, the interface, the documentation, and thousands of built-in statistical commands. This "all-in-one" approach is part of why economists love it—everything just works together.
        </p>

        <div class="info-box warning">
          <div class="info-box-title">Stata is Commercial Software</div>
          <p>
            Stata requires a license ($125+ for students, more for professionals). However, most universities provide free access through site licenses. Check with your IT department or library. If you're at Sciences Po, Stata is available on campus computers and through remote desktop.
          </p>
        </div>

        <h2>Stata Versions</h2>

        <p>
          Stata comes in several versions. The main differences are in memory capacity and processing speed:
        </p>

        <table>
          <thead>
            <tr>
              <th>Version</th>
              <th>Variables Limit</th>
              <th>Best For</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><strong>Stata/BE</strong> (Basic Edition)</td>
              <td>2,048 variables</td>
              <td>Small datasets, learning</td>
            </tr>
            <tr>
              <td><strong>Stata/SE</strong> (Standard Edition)</td>
              <td>32,767 variables</td>
              <td>Most research projects</td>
            </tr>
            <tr>
              <td><strong>Stata/MP</strong> (Multiprocessor)</td>
              <td>120,000 variables</td>
              <td>Large datasets, parallel processing</td>
            </tr>
          </tbody>
        </table>

        <p>
          For most coursework and research, <strong>Stata/SE</strong> is sufficient. Your university likely provides either SE or MP.
        </p>

        <h2>The Stata Interface</h2>

        <p>
          When you open Stata, you'll see a window with five main panels. <strong>Hover over each numbered region below</strong> to learn what it does:
        </p>

        <!-- Interactive Stata Diagram -->
        <div class="ide-diagram" id="stata-diagram">
          <div class="ide-diagram-container">
            <!-- Stata window mockup -->
            <div style="background: #f0f0f0; border-radius: 8px 8px 0 0;">
              <!-- Title bar -->
              <div style="background: linear-gradient(180deg, #4a6fa5 0%, #3d5a87 100%); padding: 6px 12px; border-radius: 8px 8px 0 0; display: flex; align-items: center; gap: 8px;">
                <div style="display: flex; gap: 6px;">
                  <span style="width: 12px; height: 12px; border-radius: 50%; background: #ff5f57;"></span>
                  <span style="width: 12px; height: 12px; border-radius: 50%; background: #febc2e;"></span>
                  <span style="width: 12px; height: 12px; border-radius: 50%; background: #28c840;"></span>
                </div>
                <span style="color: white; font-size: 0.85rem; font-weight: 500;">Stata/MP 18.0</span>
              </div>
              <!-- Main content area -->
              <div style="display: grid; grid-template-columns: 180px 1fr 200px; min-height: 350px; background: #e8e8e8;">
                <!-- Left column: Review + History -->
                <div style="display: flex; flex-direction: column; border-right: 1px solid #ccc;">
                  <!-- Review window -->
                  <div style="flex: 1; background: white; margin: 4px; border: 1px solid #bbb; position: relative;">
                    <div style="background: #ddd; padding: 2px 6px; font-size: 0.7rem; font-weight: 600; border-bottom: 1px solid #bbb;">Review</div>
                    <div style="padding: 6px; font-family: var(--font-code); font-size: 0.7rem; color: #333;">
                      <div>. use "data.dta"</div>
                      <div>. describe</div>
                      <div style="color: #0066cc;">. reg income education</div>
                    </div>
                    <div class="ide-region" data-region="1" style="top: 0; left: 0; right: 0; bottom: 0;">
                      <span class="ide-region-label">1</span>
                    </div>
                  </div>
                  <!-- Properties window -->
                  <div style="flex: 1; background: white; margin: 4px; margin-top: 0; border: 1px solid #bbb; position: relative;">
                    <div style="background: #ddd; padding: 2px 6px; font-size: 0.7rem; font-weight: 600; border-bottom: 1px solid #bbb;">Properties</div>
                    <div style="padding: 6px; font-size: 0.7rem; color: #555;">
                      <div><strong>Variables:</strong> 12</div>
                      <div><strong>Observations:</strong> 1,000</div>
                      <div><strong>Size:</strong> 68 KB</div>
                    </div>
                    <div class="ide-region" data-region="2" style="top: 0; left: 0; right: 0; bottom: 0;">
                      <span class="ide-region-label">2</span>
                    </div>
                  </div>
                </div>

                <!-- Center: Results window -->
                <div style="display: flex; flex-direction: column;">
                  <div style="flex: 1; background: white; margin: 4px; border: 1px solid #bbb; position: relative; overflow: hidden;">
                    <div style="background: #ddd; padding: 2px 6px; font-size: 0.7rem; font-weight: 600; border-bottom: 1px solid #bbb;">Stata Results</div>
                    <div style="padding: 8px; font-family: var(--font-code); font-size: 0.65rem; color: #333; line-height: 1.4;">
                      <div style="color: #0066cc;">. reg income education experience</div>
                      <br>
                      <div>Source |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SS&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;df&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;MS</div>
                      <div>-------+------------------------------</div>
                      <div>Model |&nbsp;&nbsp;1.2e+10&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2&nbsp;&nbsp;6.1e+09</div>
                      <div>Resid |&nbsp;&nbsp;5.4e+10&nbsp;&nbsp;&nbsp;997&nbsp;&nbsp;5.4e+07</div>
                      <div>-------+------------------------------</div>
                      <div>Total |&nbsp;&nbsp;6.6e+10&nbsp;&nbsp;&nbsp;999</div>
                      <br>
                      <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;R-squared = 0.1842</div>
                    </div>
                    <div class="ide-region" data-region="3" style="top: 0; left: 0; right: 0; bottom: 0;">
                      <span class="ide-region-label">3</span>
                    </div>
                  </div>
                  <!-- Command window -->
                  <div style="background: white; margin: 4px; margin-top: 0; border: 1px solid #bbb; height: 50px; position: relative;">
                    <div style="background: #ddd; padding: 2px 6px; font-size: 0.7rem; font-weight: 600; border-bottom: 1px solid #bbb;">Command</div>
                    <div style="padding: 6px; font-family: var(--font-code); font-size: 0.75rem;">
                      <span style="color: #333;">. </span><span style="color: #666;">|</span>
                    </div>
                    <div class="ide-region" data-region="4" style="top: 0; left: 0; right: 0; bottom: 0;">
                      <span class="ide-region-label">4</span>
                    </div>
                  </div>
                </div>

                <!-- Right column: Variables -->
                <div style="border-left: 1px solid #ccc;">
                  <div style="background: white; margin: 4px; border: 1px solid #bbb; height: calc(100% - 8px); position: relative;">
                    <div style="background: #ddd; padding: 2px 6px; font-size: 0.7rem; font-weight: 600; border-bottom: 1px solid #bbb;">Variables</div>
                    <div style="padding: 6px; font-size: 0.7rem;">
                      <div style="padding: 2px 0; border-bottom: 1px solid #eee;"><span style="color: #0066cc;">income</span></div>
                      <div style="padding: 2px 0; border-bottom: 1px solid #eee;"><span style="color: #0066cc;">education</span></div>
                      <div style="padding: 2px 0; border-bottom: 1px solid #eee;"><span style="color: #0066cc;">experience</span></div>
                      <div style="padding: 2px 0; border-bottom: 1px solid #eee;"><span style="color: #0066cc;">age</span></div>
                      <div style="padding: 2px 0;"><span style="color: #0066cc;">female</span></div>
                    </div>
                    <div class="ide-region" data-region="5" style="top: 0; left: 0; right: 0; bottom: 0;">
                      <span class="ide-region-label">5</span>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <!-- Info panel that updates on hover -->
          <div class="ide-info-panel" id="stata-info">
            <p class="ide-info-default">Hover over a numbered region to learn about that part of Stata.</p>
          </div>
        </div>

        <script>
          (function() {
            const infoPanel = document.getElementById('stata-info');
            const regions = document.querySelectorAll('#stata-diagram .ide-region');

            const regionInfo = {
              '1': {
                title: 'Review Window (Left, Top)',
                description: 'Shows your command history—every command you\'ve run in this session. Click on a previous command to re-run it. This is very useful for building up your analysis iteratively and recalling commands you want to modify.'
              },
              '2': {
                title: 'Properties Window (Left, Bottom)',
                description: 'Displays detailed information about the currently loaded dataset: number of observations, number of variables, dataset label, memory usage, and more. Click on a variable in the Variables window to see its properties here.'
              },
              '3': {
                title: 'Results Window (Center)',
                description: 'This is where all output appears: regression tables, summary statistics, error messages, and more. Everything you "print" in Stata shows up here. This window is scrollable, so you can review previous output. You can save this output using the <code>log</code> command.'
              },
              '4': {
                title: 'Command Window (Bottom)',
                description: 'Type Stata commands here and press Enter to run them. This is for interactive, one-at-a-time commands. For longer analyses, you\'ll want to use the <strong>Do-file Editor</strong> instead. Press Page Up to cycle through previous commands.'
              },
              '5': {
                title: 'Variables Window (Right)',
                description: 'Shows all variables in your current dataset. Click on a variable name to insert it into the Command window. You can also see variable labels and types here. This is incredibly useful when working with unfamiliar datasets.'
              }
            };

            const defaultContent = '<p class="ide-info-default">Hover over a numbered region to learn about that part of Stata.</p>';

            regions.forEach(region => {
              region.addEventListener('mouseenter', function() {
                const regionId = this.getAttribute('data-region');
                const info = regionInfo[regionId];
                if (info) {
                  infoPanel.innerHTML = `<h4>${info.title}</h4><p>${info.description}</p>`;
                  regions.forEach(r => r.classList.remove('active'));
                  this.classList.add('active');
                }
              });

              region.addEventListener('mouseleave', function() {
                setTimeout(() => {
                  if (!document.querySelector('#stata-diagram .ide-region:hover')) {
                    this.classList.remove('active');
                  }
                }, 100);
              });
            });

            document.getElementById('stata-diagram').addEventListener('mouseleave', function() {
              setTimeout(() => {
                if (!document.querySelector('#stata-diagram:hover')) {
                  infoPanel.innerHTML = defaultContent;
                  regions.forEach(r => r.classList.remove('active'));
                }
              }, 300);
            });
          })();
        </script>

        <h2>The Do-file Editor: Where Real Work Happens</h2>

        <p>
          The Command window is fine for quick tests, but <strong>all serious Stata work should be done in Do-files</strong>. A Do-file is a script that contains a sequence of Stata commands. Using Do-files makes your work reproducible, shareable, and easier to debug.
        </p>

        <p>
          To open the Do-file Editor:
        </p>
        <ul>
          <li>Go to <strong>Window > Do-file Editor > New Do-file Editor</strong></li>
          <li>Or press <code>Ctrl+9</code> (Windows) / <code>Cmd+9</code> (Mac)</li>
          <li>Or type <code>doedit</code> in the Command window</li>
        </ul>

        <h2>Essential Stata Commands</h2>

        <p>
          Here are the commands every Stata user needs to know:
        </p>

        <table>
          <thead>
            <tr>
              <th>Command</th>
              <th>What it does</th>
              <th>Example</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><code>use</code></td>
              <td>Load a dataset</td>
              <td><code>use "data.dta", clear</code></td>
            </tr>
            <tr>
              <td><code>describe</code></td>
              <td>Show variable names and types</td>
              <td><code>describe</code></td>
            </tr>
            <tr>
              <td><code>summarize</code></td>
              <td>Summary statistics</td>
              <td><code>summarize income age</code></td>
            </tr>
            <tr>
              <td><code>tabulate</code></td>
              <td>Frequency tables</td>
              <td><code>tab education</code></td>
            </tr>
            <tr>
              <td><code>generate</code></td>
              <td>Create a new variable</td>
              <td><code>gen log_income = log(income)</code></td>
            </tr>
            <tr>
              <td><code>replace</code></td>
              <td>Modify existing variable</td>
              <td><code>replace age = . if age < 0</code></td>
            </tr>
            <tr>
              <td><code>regress</code></td>
              <td>OLS regression</td>
              <td><code>reg income education age</code></td>
            </tr>
            <tr>
              <td><code>help</code></td>
              <td>Get help on any command</td>
              <td><code>help regress</code></td>
            </tr>
          </tbody>
        </table>

        <h2>A Sample Do-file</h2>

        <p>
          Here's what a typical Do-file looks like. I recommend always starting with the commands shown below:
        </p>

        <div class="code-tabs">
          <div class="tab-buttons">
            <button class="tab-button active" data-lang="stata">Stata</button>
          </div>
          <div class="tab-content active" data-lang="stata">
<pre><code><span class="code-comment">/*******************************************************************************
 * Project: Analysis of Wage Data
 * Author:  Your Name
 * Date:    January 2026
 * Purpose: Explore determinants of wages
 *******************************************************************************/</span>

<span class="code-comment">* Clear everything and set up</span>
clear all
set more off

<span class="code-comment">* Set working directory (adjust to your path)</span>
cd "/Users/yourname/research/wage_project"

<span class="code-comment">* Start a log file to save all output</span>
log using "analysis_log.txt", text replace

<span class="code-comment">* Load the data</span>
use "wage_data.dta", clear

<span class="code-comment">* Examine the data</span>
describe
summarize

<span class="code-comment">* Summary statistics for key variables</span>
summarize wage education experience, detail

<span class="code-comment">* Run a simple regression</span>
regress wage education experience i.female

<span class="code-comment">* Close the log file</span>
log close</code></pre>
          </div>
        </div>

        <div class="info-box tip">
          <div class="info-box-title">Best Practices for Do-files</div>
          <ul style="margin-bottom: 0;">
            <li><strong>Always start with <code>clear all</code></strong> to ensure a clean environment</li>
            <li><strong>Use <code>set more off</code></strong> to prevent Stata from pausing output</li>
            <li><strong>Start a log file</strong> to save all your output</li>
            <li><strong>Comment liberally</strong> using <code>*</code> or <code>/* */</code></li>
            <li><strong>Use relative paths</strong> after setting your working directory</li>
          </ul>
        </div>

        <h2>Essential Keyboard Shortcuts</h2>

        <table>
          <thead>
            <tr>
              <th>Shortcut (Windows)</th>
              <th>Shortcut (Mac)</th>
              <th>Action</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><code>Ctrl + D</code></td>
              <td><code>Cmd + Shift + D</code></td>
              <td>Run selected code in Do-file Editor</td>
            </tr>
            <tr>
              <td><code>Ctrl + 9</code></td>
              <td><code>Cmd + 9</code></td>
              <td>Open Do-file Editor</td>
            </tr>
            <tr>
              <td><code>Ctrl + S</code></td>
              <td><code>Cmd + S</code></td>
              <td>Save current Do-file</td>
            </tr>
            <tr>
              <td><code>Page Up</code></td>
              <td><code>Page Up</code></td>
              <td>Previous command (in Command window)</td>
            </tr>
            <tr>
              <td><code>F1</code></td>
              <td><code>F1</code></td>
              <td>Help for selected command</td>
            </tr>
          </tbody>
        </table>

        <h2>Getting Help in Stata</h2>

        <p>
          Stata has excellent built-in documentation. To get help on any command:
        </p>

        <ul>
          <li><code>help regress</code> — Opens help for the regress command</li>
          <li><code>search panel data</code> — Searches all documentation for "panel data"</li>
          <li><code>findit xtreg</code> — Searches for user-written commands</li>
        </ul>

        <h2>Video Tutorials</h2>

        <div class="info-box note">
          <div class="info-box-title">Recommended Videos</div>
          <ul>
            <li><a href="https://www.stata.com/links/video-tutorials/" target="_blank">Official Stata Video Tutorials</a> — Free tutorials from StataCorp</li>
            <li><a href="https://www.youtube.com/watch?v=aCgXdaTe_8c" target="_blank">Stata Tutorial: Introduction to Stata</a> (YouTube) — Good beginner overview</li>
            <li><a href="https://www.youtube.com/c/statacorp" target="_blank">StataCorp YouTube Channel</a> — Official channel with many tutorials</li>
          </ul>
        </div>

        <div class="nav-footer">
          <a href="00a-rstudio-guide.html" class="nav-link prev">RStudio Guide</a>
          <a href="00c-vscode-guide.html" class="nav-link next">VS Code Guide</a>
        </div>
      </div>
    </main>
  </div>

  <!-- Chatbot Widget -->
  <div id="chatbot-widget" class="chatbot-widget">
    <button id="chatbot-toggle" class="chatbot-toggle" aria-label="Open course assistant">
      <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
      </svg>
    </button>
    <div id="chatbot-panel" class="chatbot-panel">
      <div class="chatbot-header">
        <h3>ProTools ER1 Assistant</h3>
        <button id="chatbot-close" class="chatbot-close">&times;</button>
      </div>
      <div id="chatbot-messages" class="chatbot-messages">
        <div class="chat-message assistant">
          <p>Hello! I can help you with questions about Stata. What would you like to know?</p>
        </div>
      </div>
      <div class="chatbot-input-area">
        <textarea id="chatbot-input" placeholder="Ask a question..." rows="2"></textarea>
        <button id="chatbot-send">Send</button>
      </div>
    </div>
  </div>

  <button class="mobile-menu-toggle" aria-label="Toggle navigation menu">Menu</button>
  <script src="../js/main.js"></script>
  <script src="../js/password-protection.js"></script>
  <script src="../js/chatbot.js"></script>
</body>
</html>
