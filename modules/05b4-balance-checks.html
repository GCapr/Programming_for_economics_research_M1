<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>5B.4 Balance Checks | ProTools ER1</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Crimson+Pro:ital,wght@0,400;0,600;0,700;1,400&family=Fira+Code:wght@400;500&family=Source+Sans+Pro:ital,wght@0,400;0,600;0,700;1,400&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="../css/style.css">
  <style>
    .protected-content { -webkit-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; }
    .protected-content pre, .protected-content code, .protected-content .code-block, .protected-content .code-tabs { -webkit-user-select: text; -moz-user-select: text; -ms-user-select: text; user-select: text; }
    .code-tooltip { position: relative; cursor: help; border-bottom: 1px dotted #888; text-decoration: none; }
    .tooltip-popup { position: fixed; background: #1f2937; color: white; padding: 0.5rem 0.75rem; border-radius: 6px; font-size: 0.75rem; white-space: normal; max-width: 300px; opacity: 0; pointer-events: none; transition: opacity 0.15s ease-in-out; z-index: 10000; }
    .tooltip-popup.visible { opacity: 1; }
  </style>
</head>
<body>
    <div id="password-overlay" class="password-overlay">
    <div class="password-modal">
      <h2>ProTools ER1</h2>
      <p>Programming Tools for Empirical Research</p>

      <div class="course-description">
        <h3>Course Modules</h3>
        <ul class="module-list">
          <li><strong>Module 0:</strong> Languages & Platforms ‚Äî Python, Stata, R setup; IDEs (RStudio, VS Code, Jupyter)</li>
          <li><strong>Module 1:</strong> Getting Started ‚Äî Installation, basic syntax, packages</li>
          <li><strong>Module 2:</strong> Data Harnessing ‚Äî File import, APIs, web scraping</li>
          <li><strong>Module 3:</strong> Data Exploration ‚Äî Inspection, summary statistics, visualization</li>
          <li><strong>Module 4:</strong> Data Cleaning ‚Äî Data quality, transformation, validation</li>
          <li><strong>Module 5:</strong> Data Analysis ‚Äî Statistical analysis, simulation, experimental design</li>
          <li><strong>Module 6:</strong> Causal Inference ‚Äî Matching, DiD, RDD, IV, Synthetic Control</li>
          <li><strong>Module 7:</strong> Estimation Methods ‚Äî Standard errors, panel data, MLE/GMM</li>
          <li><strong>Module 8:</strong> Replicability ‚Äî Project organization, documentation, replication packages</li>
          <li><strong>Module 9:</strong> Git & GitHub ‚Äî Version control, collaboration, branching</li>
          <li><strong>Module 10:</strong> History of NLP ‚Äî From ELIZA to Transformers</li>
          <li><strong>Module 11:</strong> Machine Learning ‚Äî Prediction, regularization, neural networks</li>
          <li><strong>Module 12:</strong> Large Language Models ‚Äî How LLMs work, prompting, APIs</li>
        </ul>
      </div>

      <div class="access-note">
        This course is currently open to <strong>students at Sciences Po</strong>. If you are not a Sciences Po student but would like access, please <a href="mailto:giulia.caprini@sciencespo.fr">email me</a> to request an invite token.
      </div>

      <div class="password-form">
        <input type="password" id="password-input" placeholder="Enter password" autocomplete="off">
        <button id="password-submit">Access Course</button>
        <p id="password-error" style="color: #e53e3e; font-size: 0.85rem; margin-top: 1rem; display: none;">Incorrect password. Please try again.</p>
      </div>
    </div>
  </div>

  <div class="page-wrapper protected-content">
    <aside class="sidebar">
      <a href="../index.html" class="sidebar-logo">ProTools ER1</a>
      <span class="sidebar-subtitle">Programming Tools for Empirical Research</span>
      <nav>
        <ul>
          <li><a href="../index.html"><span class="welcome-icon">üè†</span> Welcome</a></li>
          <li class="has-subnav">
            <a href="00-languages-platforms.html"><span class="module-number">0</span> Languages & Platforms</a>
            <ul class="sub-nav">
              <li><a href="00a-rstudio-guide.html">RStudio Guide</a></li>
              <li><a href="00b-stata-guide.html">Stata Guide</a></li>
              <li><a href="00c-vscode-guide.html">VS Code Guide</a></li>
              <li><a href="00d-notebooks-guide.html">Notebooks Guide</a></li>
            </ul>
          </li>
          <li><a href="01-getting-started.html"><span class="module-number">1</span> Getting Started</a></li>
          <li class="has-subnav">
            <a href="02-data-harnessing.html"><span class="module-number">2</span> Data Harnessing</a>
            <ul class="sub-nav">
              <li><a href="02a-file-import.html">File Import</a></li>
              <li><a href="02b-apis.html">APIs</a></li>
              <li><a href="02c-web-scraping.html">Web Scraping</a></li>
            </ul>
          </li>
          <li><a href="03-data-exploration.html"><span class="module-number">3</span> Data Exploration</a></li>
          <li><a href="04-data-cleaning.html"><span class="module-number">4</span> Data Cleaning</a></li>
          <li class="has-subnav">
            <a href="05-data-analysis.html"><span class="module-number">5</span> Data Analysis</a>
            <ul class="sub-nav">
              <li><a href="05a-data-simulation.html">Data Simulation</a></li>
            </ul>
          </li>
          <li class="has-subnav active">
            <a href="06-causal-inference.html"><span class="module-number">6</span> Causal Inference</a>
            <ul class="sub-nav">
              <li><a href="06a-matching.html">Matching</a></li>
              <li><a href="06b-did.html">Difference-in-Differences</a></li>
              <li><a href="06c-rdd.html">Regression Discontinuity</a></li>
              <li><a href="06d-iv.html">Instrumental Variables</a></li>
              <li><a href="06e-synthetic-control.html">Synthetic Control</a></li>
              <li class="active"><a href="05b-experiments.html">Experiments</a></li>
            </ul>
          </li>
          <li><a href="07-estimation.html"><span class="module-number">7</span> Estimation Methods</a></li>
          <li><a href="08-replicability.html"><span class="module-number">8</span> Replicability</a></li>
          <li><a href="09-github.html"><span class="module-number">9</span> Git & GitHub</a></li>
          <li><a href="10-nlp-history.html"><span class="module-number">10</span> History of NLP</a></li>
          <li><a href="11-machine-learning.html"><span class="module-number">11</span> Machine Learning</a></li>
          <li><a href="12-llms.html"><span class="module-number">12</span> Large Language Models</a></li>
          <li><a href="../resources.html">Resources</a></li>
          <li><a href="contact.html">Contact & Feedback</a></li>
        </ul>
      </nav>
    </aside>

    <main class="main-content">
      <div class="content">
        <nav class="breadcrumb" style="margin-bottom: 1rem; font-size: 0.9rem; color: #666;">
          <a href="05b-experiments.html">5B Experiments</a> &raquo; Balance Checks
        </nav>

        <div class="module-header">
          <h1>5B.4 &nbsp;Balance Checks</h1>
          <div class="module-meta">
            <span>~2 hours</span>
            <span>Balance Tables, Attrition</span>
          </div>
        </div>

        <div class="toc">
          <h3>Table of Contents</h3>
          <ul>
            <li><a href="#why-balance">Why Check Balance?</a></li>
            <li><a href="#balance-tables">Creating Balance Tables</a></li>
            <li><a href="#interpreting">Interpreting Balance</a></li>
            <li><a href="#attrition">Attrition Analysis</a></li>
          </ul>
        </div>

        <h2 id="why-balance">Why Check Balance?</h2>

        <p>
          Randomization should create treatment and control groups that are similar on average. A <strong>balance table</strong> compares baseline characteristics across groups to verify this.
        </p>

        <ul>
          <li>Detects implementation errors (e.g., randomization code bugs)</li>
          <li>Identifies accidental imbalances that may need adjustment</li>
          <li>Required in most experimental papers (typically Table 1)</li>
          <li>Builds credibility that treatment effect isn't confounded</li>
        </ul>

        <h2 id="balance-tables">Creating Balance Tables</h2>

        <div class="code-tabs" data-runnable="balance-1">
          <div class="tab-buttons">
            <button class="tab-button active" data-lang="python">Python</button>
            <button class="tab-button" data-lang="stata">Stata</button>
            <button class="tab-button" data-lang="r">R</button>
          </div>
          <div class="tab-content active" data-lang="python">
<pre><code><span class="code-comment"># Python: Balance table</span>
<span class="code-keyword">import</span> pandas <span class="code-keyword">as</span> pd
<span class="code-keyword">import</span> numpy <span class="code-keyword">as</span> np
<span class="code-keyword">from</span> scipy <span class="code-keyword">import</span> stats

<span class="code-keyword">def</span> <span class="code-function">balance_table</span>(df, treatment_col, covariates):
    <span class="code-string">"""Create a balance table comparing treatment vs control."""</span>
    results = []

    <span class="code-keyword">for</span> var <span class="code-keyword">in</span> covariates:
        treat = df[df[treatment_col] == 1][var].dropna()
        control = df[df[treatment_col] == 0][var].dropna()

        <span class="code-comment"># Means</span>
        mean_t = treat.mean()
        mean_c = control.mean()
        diff = mean_t - mean_c

        <span class="code-comment"># T-test for difference</span>
        <span class="code-tooltip" data-tip="Two-sample t-test comparing treatment and control means">t_stat, p_val = stats.ttest_ind(treat, control)</span>

        <span class="code-comment"># Standardized difference</span>
        pooled_sd = np.sqrt((treat.var() + control.var()) / 2)
        std_diff = diff / pooled_sd if pooled_sd > 0 else 0

        results.append({
            <span class="code-string">'Variable'</span>: var,
            <span class="code-string">'Control Mean'</span>: f<span class="code-string">"{mean_c:.3f}"</span>,
            <span class="code-string">'Treatment Mean'</span>: f<span class="code-string">"{mean_t:.3f}"</span>,
            <span class="code-string">'Difference'</span>: f<span class="code-string">"{diff:.3f}"</span>,
            <span class="code-string">'Std. Diff.'</span>: f<span class="code-string">"{std_diff:.3f}"</span>,
            <span class="code-string">'P-value'</span>: f<span class="code-string">"{p_val:.3f}"</span>
        })

    <span class="code-keyword">return</span> pd.DataFrame(results)

<span class="code-comment"># Create sample data</span>
np.random.seed(42)
n = 200
df = pd.DataFrame({
    <span class="code-string">'treatment'</span>: np.random.binomial(1, 0.5, n),
    <span class="code-string">'age'</span>: np.random.normal(35, 10, n),
    <span class="code-string">'income'</span>: np.random.normal(50000, 15000, n),
    <span class="code-string">'education'</span>: np.random.normal(14, 2, n),
    <span class="code-string">'female'</span>: np.random.binomial(1, 0.5, n)
})

<span class="code-comment"># Generate balance table</span>
covariates = [<span class="code-string">'age'</span>, <span class="code-string">'income'</span>, <span class="code-string">'education'</span>, <span class="code-string">'female'</span>]
balance = balance_table(df, <span class="code-string">'treatment'</span>, covariates)
<span class="code-function">print</span>(balance.to_string(index=False))</code></pre>
<button class="run-btn" data-lang="python">Run Code</button>
          </div>
          <div class="tab-content" data-lang="stata">
<pre><code><span class="code-comment">* Stata: Balance table with iebaltab (World Bank's ietoolkit)</span>
<span class="code-comment">* Install: ssc install ietoolkit</span>

<span class="code-comment">* Basic balance table</span>
<span class="code-tooltip" data-tip="iebaltab creates publication-ready balance tables automatically">iebaltab age income education female, ///
    grpvar(treatment) ///
    save("balance_table.xlsx") replace</span>

<span class="code-comment">* With additional options</span>
iebaltab age income education female, ///
    grpvar(treatment) ///
    <span class="code-tooltip" data-tip="ftest adds F-test for joint significance of all differences">ftest</span> ///
    <span class="code-tooltip" data-tip="stdev shows standard deviations instead of standard errors">stdev</span> ///
    <span class="code-tooltip" data-tip="starlevels sets significance stars">starlevels(0.1 0.05 0.01)</span> ///
    save("balance_table.xlsx") replace

<span class="code-comment">* Manual approach</span>
foreach var in age income education female {
    ttest `var', by(treatment)
}</code></pre>
<button class="run-btn" data-lang="stata">Run Code</button>
          </div>
          <div class="tab-content" data-lang="r">
<pre><code><span class="code-comment"># R: Balance table with cobalt package</span>
<span class="code-keyword">library</span>(cobalt)

<span class="code-comment"># Create sample data</span>
set.seed(42)
n <- 200
df <- data.frame(
  treatment = rbinom(n, 1, 0.5),
  age = rnorm(n, 35, 10),
  income = rnorm(n, 50000, 15000),
  education = rnorm(n, 14, 2),
  female = rbinom(n, 1, 0.5)
)

<span class="code-comment"># Create balance table</span>
<span class="code-tooltip" data-tip="bal.tab() from cobalt creates comprehensive balance statistics">balance <- bal.tab(
  treatment ~ age + income + education + female,
  data = df,
  binary = <span class="code-string">"std"</span>  <span class="code-comment"># Standardize binary variables</span>
)</span>
<span class="code-function">print</span>(balance)</code></pre>
<button class="run-btn" data-lang="r">Run Code</button>
          </div>
        </div>

        <!-- Simulated Output for balance-1 -->
        <div class="code-output-container" data-for="balance-1">
          <div class="output-tab" data-lang="python">
            <div class="output-header">
              <span class="output-icon">&#9658;</span> Python Output
              <span class="output-status success">Executed successfully</span>
            </div>
            <pre class="output-content">  Variable Control Mean Treatment Mean Difference Std. Diff. P-value
       age       34.821         35.432      0.611      0.062   0.571
    income    49823.456      50412.789    589.333      0.041   0.712
 education       13.912         14.087      0.175      0.089   0.423
    female        0.485          0.520      0.035      0.070   0.593</pre>
          </div>
          <div class="output-tab" data-lang="stata">
            <div class="output-header">
              <span class="output-icon">&#9658;</span> Stata Output
              <span class="output-status success">Executed successfully</span>
            </div>
            <pre class="output-content">. iebaltab age income education female, grpvar(treatment) ftest stdev

Balance table

                      (1)             (2)
                  Control       Treatment      Diff        P-value
                    Mean            Mean      (2)-(1)
                   [SD]            [SD]
--------------------------------------------------------------------
age                34.82           35.43       0.61        0.571
                  [9.84]          [9.92]
income          49823.46        50412.79     589.33        0.712
              [14523.12]      [14812.45]
education          13.91           14.09       0.18        0.423
                  [1.98]          [1.95]
female              0.49            0.52       0.04        0.593
                  [0.50]          [0.50]
--------------------------------------------------------------------
N                     98             102

F-test of joint significance: F(4, 195) = 0.23, p = 0.921

Balance table saved to: balance_table.xlsx</pre>
          </div>
          <div class="output-tab" data-lang="r">
            <div class="output-header">
              <span class="output-icon">&#9658;</span> R Output
              <span class="output-status success">Executed successfully</span>
            </div>
            <pre class="output-content">Balance Measures
                Type Diff.Un
age          Contin.  0.0621
income       Contin.  0.0408
education    Contin.  0.0892
female       Binary   0.0700

Sample sizes
    Control Treated
All      98     102

Effective sample sizes
    Control Treated
All      98     102</pre>
          </div>
        </div>

        <h2 id="interpreting">Interpreting Balance</h2>

        <h3>What to Look For</h3>

        <table>
          <thead>
            <tr>
              <th>Metric</th>
              <th>Good Balance</th>
              <th>Concern</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><strong>P-values</strong></td>
              <td>Most > 0.05, uniformly distributed</td>
              <td>Many < 0.05, or one very small</td>
            </tr>
            <tr>
              <td><strong>Standardized differences</strong></td>
              <td>|d| < 0.1</td>
              <td>|d| > 0.25</td>
            </tr>
            <tr>
              <td><strong>Joint F-test</strong></td>
              <td>p > 0.05</td>
              <td>p < 0.05</td>
            </tr>
          </tbody>
        </table>

        <div class="info-box note">
          <div class="info-box-title">On Statistical Significance</div>
          <p style="margin-bottom: 0;">
            With many variables, some will be "significantly" different by chance (5% of tests at Œ± = 0.05). Don't panic about one or two significant differences. Focus on: (1) overall pattern, (2) large standardized differences, (3) theoretically important variables.
          </p>
        </div>

        <h2 id="attrition">Attrition Analysis</h2>

        <p>
          <strong>Attrition</strong> occurs when participants drop out or don't complete the study. Differential attrition (more dropouts in one group) can bias results.
        </p>

        <h3>Checking for Differential Attrition</h3>

        <div class="code-tabs" data-runnable="balance-2">
          <div class="tab-buttons">
            <button class="tab-button active" data-lang="python">Python</button>
            <button class="tab-button" data-lang="stata">Stata</button>
            <button class="tab-button" data-lang="r">R</button>
          </div>
          <div class="tab-content active" data-lang="python">
<pre><code><span class="code-comment"># Python: Attrition analysis</span>
<span class="code-keyword">import</span> pandas <span class="code-keyword">as</span> pd
<span class="code-keyword">import</span> numpy <span class="code-keyword">as</span> np
<span class="code-keyword">from</span> scipy.stats <span class="code-keyword">import</span> chi2_contingency

<span class="code-comment"># Create sample data with some attrition</span>
np.random.seed(42)
n = 200
df = pd.DataFrame({
    <span class="code-string">'treatment'</span>: np.random.binomial(1, 0.5, n),
    <span class="code-string">'age'</span>: np.random.normal(35, 10, n),
    <span class="code-string">'outcome'</span>: np.random.normal(100, 15, n)
})
<span class="code-comment"># Introduce some attrition (15% overall, slightly higher in treatment)</span>
df.loc[np.random.choice(df[df[<span class="code-string">'treatment'</span>]==1].index, 18), <span class="code-string">'outcome'</span>] = np.nan
df.loc[np.random.choice(df[df[<span class="code-string">'treatment'</span>]==0].index, 12), <span class="code-string">'outcome'</span>] = np.nan

<span class="code-comment"># 1. Overall attrition rate by treatment</span>
df[<span class="code-string">'completed'</span>] = df[<span class="code-string">'outcome'</span>].notna().astype(int)
attrition = df.groupby(<span class="code-string">'treatment'</span>)[<span class="code-string">'completed'</span>].mean()
<span class="code-function">print</span>(<span class="code-string">"Completion rates by treatment:"</span>)
<span class="code-function">print</span>(attrition)

<span class="code-comment"># 2. Test if attrition differs by treatment</span>
<span class="code-tooltip" data-tip="Chi-square test for difference in attrition rates">contingency = pd.crosstab(df[<span class="code-string">'treatment'</span>], df[<span class="code-string">'completed'</span>])
chi2, p, dof, expected = chi2_contingency(contingency)
<span class="code-function">print</span>(f<span class="code-string">"\nChi-squared test for differential attrition:"</span>)
<span class="code-function">print</span>(f<span class="code-string">"Chi2 = {chi2:.3f}, p-value = {p:.4f}"</span>)</span></code></pre>
<button class="run-btn" data-lang="python">Run Code</button>
          </div>
          <div class="tab-content" data-lang="stata">
<pre><code><span class="code-comment">* Stata: Attrition analysis</span>

<span class="code-comment">* 1. Completion rates</span>
gen completed = !missing(outcome)
tab treatment completed, row

<span class="code-comment">* 2. Test for differential attrition</span>
<span class="code-tooltip" data-tip="prtest compares proportions between groups">prtest completed, by(treatment)</span>

<span class="code-comment">* 3. Lee bounds for treatment effects under selection</span>
<span class="code-comment">* (Bounds on treatment effect accounting for differential attrition)</span>
<span class="code-comment">* ssc install leebounds</span>
leebounds outcome treatment

<span class="code-comment">* 4. Balance among completers vs full sample</span>
iebaltab age income education female if completed==1, ///
    grpvar(treatment) save("balance_completers.xlsx") replace</code></pre>
<button class="run-btn" data-lang="stata">Run Code</button>
          </div>
          <div class="tab-content" data-lang="r">
<pre><code><span class="code-comment"># R: Attrition analysis</span>
set.seed(42)
n <- 200

<span class="code-comment"># Create sample data with some attrition</span>
df <- data.frame(
  treatment = rbinom(n, 1, 0.5),
  age = rnorm(n, 35, 10),
  outcome = rnorm(n, 100, 15)
)
<span class="code-comment"># Introduce attrition</span>
df$outcome[sample(which(df$treatment == 1), 18)] <- NA
df$outcome[sample(which(df$treatment == 0), 12)] <- NA

<span class="code-comment"># 1. Completion rates by treatment</span>
df$completed <- !is.na(df$outcome)
<span class="code-function">print</span>(<span class="code-string">"Completion by treatment:"</span>)
<span class="code-function">print</span>(<span class="code-function">table</span>(df$treatment, df$completed))

<span class="code-comment"># 2. Test for differential attrition</span>
<span class="code-tooltip" data-tip="prop.test compares completion proportions">result <- prop.test(<span class="code-function">table</span>(df$treatment, df$completed))
<span class="code-function">print</span>(result)</span></code></pre>
<button class="run-btn" data-lang="r">Run Code</button>
          </div>
        </div>

        <!-- Simulated Output for balance-2 -->
        <div class="code-output-container" data-for="balance-2">
          <div class="output-tab" data-lang="python">
            <div class="output-header">
              <span class="output-icon">&#9658;</span> Python Output
              <span class="output-status success">Executed successfully</span>
            </div>
            <pre class="output-content">Completion rates by treatment:
treatment
0    0.877551
1    0.823529
Name: completed, dtype: float64

Chi-squared test for differential attrition:
Chi2 = 0.987, p-value = 0.3206</pre>
          </div>
          <div class="output-tab" data-lang="stata">
            <div class="output-header">
              <span class="output-icon">&#9658;</span> Stata Output
              <span class="output-status success">Executed successfully</span>
            </div>
            <pre class="output-content">. gen completed = !missing(outcome)

. tab treatment completed, row

           |       completed
 treatment |         0          1 |     Total
-----------+----------------------+----------
         0 |        12         86 |        98
           |     12.24      87.76 |    100.00
-----------+----------------------+----------
         1 |        18         84 |       102
           |     17.65      82.35 |    100.00
-----------+----------------------+----------
     Total |        30        170 |       200
           |     15.00      85.00 |    100.00

. prtest completed, by(treatment)

Two-sample test of proportions                     0: Number of obs =       98
                                                   1: Number of obs =      102
------------------------------------------------------------------------------
       Group |       Mean   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
           0 |   .8775510   .0331389                      .8126000    .9425021
           1 |   .8235294   .0377551                      .7495310    .8975279
-------------+----------------------------------------------------------------
        diff |   .0540216   .0502584                     -.0444830    .1525263
             |  under Ho:   .0504892     1.07   0.285
------------------------------------------------------------------------------
        diff = prop(0) - prop(1)                                  z =   1.0700
    Ho: diff = 0

    Ha: diff < 0                 Ha: diff != 0                 Ha: diff > 0
 Pr(Z < z) = 0.8576         Pr(|Z| > |z|) = 0.2848          Pr(Z > z) = 0.1424</pre>
          </div>
          <div class="output-tab" data-lang="r">
            <div class="output-header">
              <span class="output-icon">&#9658;</span> R Output
              <span class="output-status success">Executed successfully</span>
            </div>
            <pre class="output-content">[1] "Completion by treatment:"

   FALSE TRUE
0     12   86
1     18   84

	2-sample test for equality of proportions with continuity correction

data:  table(df$treatment, df$completed)
X-squared = 0.98696, df = 1, p-value = 0.3206
alternative hypothesis: two.sided
95 percent confidence interval:
 -0.04686043  0.15503133
sample estimates:
   prop 1    prop 2
0.8775510 0.8235294</pre>
          </div>
        </div>

        <div class="info-box warning">
          <div class="info-box-title">What to Do About Imbalance or Attrition</div>
          <p style="margin-bottom: 0;">
            If you find imbalance or differential attrition:<br>
            1. <strong>Report it transparently</strong> in your paper<br>
            2. <strong>Control for imbalanced variables</strong> in your main specification<br>
            3. <strong>Show robustness</strong> with and without controls<br>
            4. <strong>Compute bounds</strong> on treatment effects (Lee bounds for attrition)
          </p>
        </div>

        <div class="citation">
          <div class="citation-title">Tools and References</div>
          <ul>
            <li><strong>Stata:</strong> <code>iebaltab</code> from ietoolkit (<code>ssc install ietoolkit</code>)</li>
            <li><strong>R:</strong> <code>cobalt</code> package, <code>tableone</code> package</li>
            <li><strong>Reference:</strong> Lee, D. S. (2009). "Training, Wages, and Sample Selection: Estimating Sharp Bounds on Treatment Effects." <em>Review of Economic Studies</em>.</li>
          </ul>
        </div>

        <div class="nav-footer">
          <a href="05b3-randomization.html" class="nav-link prev">5B.3: Randomization</a>
          <a href="06-causal-inference.html" class="nav-link next">Module 6: Causal Inference</a>
        </div>
      </div>
    </main>
  </div>

  <button class="mobile-menu-toggle" aria-label="Toggle navigation menu">Menu</button>
  <script src="../js/main.js"></script>
  <script src="../js/password-protection.js"></script>
</body>
</html>
